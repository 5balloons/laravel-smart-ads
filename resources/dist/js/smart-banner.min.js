function updateClick(e){let t=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),n=e.target.closest(".smart-banner").getAttribute("banner-slug");fetch("/smart-banner-update-clicks",{headers:{"Content-Type":"application/json",Accept:"application/json, text-plain, */*","X-Requested-With":"XMLHttpRequest","X-CSRF-TOKEN":t},method:"post",credentials:"same-origin",body:JSON.stringify({slug:n})}).catch((function(e){console.log(e)}))}fetch("/smart-banner-auto-placements").then((e=>e.json())).then((e=>{e.forEach((function(e){if(e.enabled){JSON.parse(e.placements).forEach((function(t){if(t.selector){var n=document.querySelector(t.selector);if(n){let a="";"HTML"==e.adType?a='<div class="smart-banner-temp" banner-slug="'+e.slug+'" style="'+t.style+'">'+e.body+"</div>":"IMAGE"==e.adType&&(a='<div class="smart-banner-temp" banner-slug="'+e.slug+'" style="'+t.style+'">                          <a href="'+(e.imageUrl?e.imageUrl:"#")+'" target="_blank">                            <img src="/storage/'+e.image+'" alt="'+e.imageAlt+'" />                          </a>                         </div>'),n.insertAdjacentHTML(t.position,a)}}}))}})),document.querySelectorAll(".smart-banner-temp").forEach((function(e){let t=e.getAttribute("banner-slug"),n=e.getAttribute("style");e.firstElementChild.setAttribute("banner-slug",t),e.firstElementChild.setAttribute("style",n),e.firstElementChild.classList.add("smart-banner"),e.replaceWith(...e.childNodes)})),document.querySelectorAll(".smart-banner").forEach((function(e){e.addEventListener("click",updateClick)}))}));
